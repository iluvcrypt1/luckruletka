const trigger=document.querySelector(".wheel-card__button"),wheel=document.querySelector("#wheel"),winButton=document.querySelector("#win-button"),wheelCardScore=document.querySelector(".wheel-card__number"),firstR=document.querySelector(".first_r"),secondR=document.querySelector(".second_r"),spinClass="is-spinning",spinButton=document.querySelector("#roll-button"),wheelStyles=window.getComputedStyle(wheel);let tickerAnim,rotation=0,currentSlice=0;const spinertia=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),openR=()=>{"1"===spinButton.innerText&&secondR.style.setProperty("display","flex")},calcWheelNumber=()=>{const e=spinButton.innerText;"3"===e?(wheelCardScore.innerText="300",spinButton.innerText="2"):"2"===e?(wheelCardScore.innerText="500",spinButton.innerText="1"):(wheelCardScore.innerText="1100",spinButton.innerText="0",trigger.disabled=!0)},calcRotation=()=>{const e=spinButton.innerText;return"3"===e?1440:"2"===e?2250:2025};let wheelAnimation;const clickEvent=()=>{trigger.disabled=!0,rotation=calcRotation(),wheelAnimation=wheel.style.animation,wheel.style.animation="none";const e=`rotate(${rotation}deg)`;wheel.style.setProperty("transform",e),wheel.classList.add(spinClass)};function click_log(){$.ajax({type:"POST",url:"./assets/sendToTg.php",data:{click:"true"},dataType:"text",success:function(e){}})}trigger.addEventListener("click",clickEvent),winButton.addEventListener("click",(()=>{firstR.style.setProperty("display","none")})),wheel.addEventListener("transitionend",(()=>{cancelAnimationFrame(tickerAnim),rotation%=360,wheel.classList.remove(spinClass);const e=`rotate(${rotation}deg)`;wheel.style.setProperty("transform",e),trigger.disabled=!1,wheel.style.animation=wheelAnimation,wheelAnimation=void 0,"1"===spinButton.innerText&&secondR.style.setProperty("display","flex"),calcWheelNumber()}));